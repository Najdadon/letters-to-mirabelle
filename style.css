/* Basic reset & fonts */
* { box-sizing: border-box; margin: 0; padding: 0; }
html,body { height: 100%; }
body {
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(180deg,#000000 0%, #120018 60%);
  color: #fff;
  -webkit-font-smoothing:antialiased;
  overflow-x:hidden;
}

/* Header */
#site-header { text-align:center; padding:60px 20px 20px; }
.title { font-family: 'Dancing Script', cursive; font-size: 2.8rem; color:#A020F0; margin-bottom:8px; }
.intro { font-style: italic; color:#D8BFD8; margin-bottom:6px; }
.sub { color:#D8BFD8; opacity:0.9; }

/* Buttons */
#buttons { display:flex; gap:18px; justify-content:center; flex-wrap:wrap; margin:30px auto; padding:10px; }
#buttons button {
  background: rgba(160,32,240,0.14);
  border: 1px solid rgba(160,32,240,0.25);
  padding:16px 18px;
  border-radius:14px;
  color:#fff;
  min-width:160px;
  cursor:pointer;
  text-align:center;
  transition: transform .12s ease, box-shadow .12s ease;
  font-weight:600;
}
#buttons button:hover { transform: translateY(-4px); box-shadow:0 12px 30px rgba(160,32,240,0.18); }
#buttons button small { display:block; font-weight:400; font-size:0.85rem; color:#D8BFD8; margin-top:6px; }
#buttons .locked { position:relative; }
.lock { position:absolute; right:12px; top:8px; opacity:0.9; }

/* Sections */
.section { display:none; padding:30px 20px 60px; max-width:1000px; margin:0 auto; }
.section h2 { margin-bottom:18px; color:#A020F0; }

/* Letters & Poems */
.letter, .poem { background: rgba(255,255,255,0.03); padding:16px; border-radius:12px; margin-bottom:12px; }

/* Gallery */
.gallery-tabs { text-align:center; margin-bottom:16px; }
.tab-btn {
  background: rgba(160,32,240,0.12);
  border: 1px solid rgba(160,32,240,0.18);
  padding:10px 16px;
  border-radius:10px;
  cursor:pointer;
  margin:0 6px;
}
.tab-btn.active, .tab-btn:hover { box-shadow: 0 8px 20px rgba(160,32,240,0.18); }
#gallery-items { text-align:center; }
.gallery-item { display:inline-block; margin:8px; vertical-align:top; width:220px; }
.gallery-item img, .gallery-item video { width:100%; border-radius:8px; }

/* Gem legend */
#gem-legend { position: fixed; top: 18px; right: 18px; background: rgba(0,0,0,0.5); padding:10px; border-radius:10px; z-index:60; }

/* Hidden gems */
.hidden-gem {
  font-size: 2rem;
  z-index: 55;
  cursor: pointer;
  animation: sparkle 2.2s infinite;
  user-select:none;
}
@keyframes sparkle {
  0%,100% { transform: scale(1); opacity:0.85; }
  50% { transform: scale(1.2); opacity:1; }
}

/* Notification banner */
#notification-banner {
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  top: -80px;
  background: rgba(160,32,240,0.95);
  color: #fff;
  padding: 12px 20px;
  border-radius: 10px;
  z-index: 100;
  box-shadow: 0 8px 30px rgba(160,32,240,0.25);
  transition: top .45s ease;
  font-weight:600;
}

/* Popups */
.popup { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.7); justify-content:center; align-items:center; z-index:120; }
.popup .popup-content { background:#0f0f12; padding:22px; border-radius:12px; color:#fff; min-width:280px; max-width:90%; }
.popup .close { position:absolute; right:18px; top:12px; cursor:pointer; font-size:1.2rem; color:#fff; }
.popup .greeting-content { position:relative; }

/* canvas coupon */
canvas.couponCanvas { border-radius:8px; display:block; margin:8px auto; }

/* Footer */
footer { text-align:center; padding:30px 10px; color:#D8BFD8; opacity:0.9; margin-top:40px; }

/* Responsive */
@media (max-width:640px){
  #buttons { gap:12px; padding:8px; }
  .gallery-item { width:44%; }
}

/* Envelope Animation */
.envelope {
  position: relative;
  width: 320px;
  height: 200px;
  background: linear-gradient(145deg, #4b0082, #2c003e);
  margin: 40px auto;
  border-radius: 10px;
  perspective: 800px;
  cursor: pointer;
  box-shadow: 0 0 20px rgba(160,32,240,0.4);
  transition: transform 0.8s ease;
}

.envelope-flap {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 50%;
  background: linear-gradient(145deg, #5e2a9e, #2c003e);
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  transform-origin: top;
  transition: transform 0.8s ease;
}

.envelope.open .envelope-flap {
  transform: rotateX(180deg);
}

.letter-content {
  position: absolute;
  top: 20%;
  left: 10%;
  right: 10%;
  bottom: 10%;
  background: rgba(255,255,255,0.05);
  border-radius: 8px;
  padding: 16px;
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.8s ease, transform 0.8s ease;
}

.envelope.open .letter-content {
  opacity: 1;
  transform: translateY(0);
}
